<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Control de Dispositivo</title>
    
    <link rel="stylesheet" href="styles.css">
    
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.7.16.min.js"></script>
    <script src="https://rawgit.com/aws/amazon-cognito-identity-js/master/dist/aws-cognito-sdk.min.js"></script>
    <script src="https://rawgit.com/aws/amazon-cognito-identity-js/master/dist/amazon-cognito-identity.min.js"></script>
</head>
<body>

<div class="container">
    <h1>Panel de Emergencia üèçÔ∏è</h1>
    <div id="status-message"></div>

    <div id="auth-section">
        <div id="login-form">
            <h2>Iniciar Sesi√≥n</h2>
            <input type="email" id="login-email" placeholder="Email">
            <input type="password" id="login-password" placeholder="Contrase√±a">
            <button onclick="signIn()">Iniciar Sesi√≥n</button>
            <p>¬øNo tienes una cuenta? <a href="#" onclick="toggleAuthForms()">Reg√≠strate aqu√≠</a></p>
        </div>

        <div id="signup-form" class="hidden">
            <h2>Crear Cuenta Nueva</h2>
            <input type="email" id="signup-email" placeholder="Email">
            <input type="password" id="signup-password" placeholder="Contrase√±a">
            <button onclick="signUp()">Registrarse</button>
            <p>¬øYa tienes una cuenta? <a href="#" onclick="toggleAuthForms()">Inicia sesi√≥n</a></p>
        </div>

        <div id="confirm-form" class="hidden">
            <h2>Confirmar Cuenta</h2>
            <p>Te hemos enviado un c√≥digo a tu correo electr√≥nico.</p>
            <input type="email" id="confirm-email" placeholder="Email de confirmaci√≥n">
            <input type="text" id="confirm-code" placeholder="C√≥digo de confirmaci√≥n">
            <button onclick="confirmSignUp()">Confirmar</button>
        </div>

        </div>

    <div id="app-content" class="hidden">
        <p>Bienvenido, <b id="user-email"></b>. <button onclick="signOut()" class="danger-btn">Cerrar Sesi√≥n</button></p>

        <div class="section">
            <h2>Gesti√≥n de Dispositivo</h2>
            <div id="device-management">
                <div id="pairing-form">
                    <p>No tienes un dispositivo pareado.</p>
                    <input type="text" id="deviceId-input" placeholder="Ingresa el ID de tu dispositivo">
                    <button onclick="pairDevice()">Parear Dispositivo</button>
                </div>
                <div id="paired-device-info" class="hidden">
                    <p>Dispositivo pareado: <b id="current-deviceId"></b></p>
                    <button onclick="unpairDevice()" class="danger-btn">Quitar Dispositivo</button>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>Contactos de Emergencia</h2>
            <div id="add-contact-form">
                <h3>A√±adir Nuevo Contacto</h3>
                <input type="text" id="contact-name" placeholder="Nombre">
                <input type="tel" id="contact-phone" placeholder="Tel√©fono (+5255...)" >
                <input type="text" id="contact-relationship" placeholder="Relaci√≥n (Ej: Padre)">
                <button onclick="addContact()">A√±adir Contacto</button>
            </div>
            <div id="contact-list">
                <h3>Mis Contactos</h3>
                <ul></ul>
            </div>
        </div>
    </div>
</div>

<script src="app.js"></script>

</body>
</html>